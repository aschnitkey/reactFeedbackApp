(this["webpackJsonpfeedback-app"]=this["webpackJsonpfeedback-app"]||[]).push([[0],{32:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(26),i=n.n(r),s=(n(32),n(20)),j=n(3),d=n(2),l=function(e){var t=e.text,n={backgroundColor:e.bgColor,color:e.textColor};return Object(d.jsx)("header",{style:n,children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("h2",{children:t})})})};l.defaultProps={text:"Feedback UI",bgColor:"rgba(0,0,0,.4",textColor:"#ff6a95"};var u=l,o=n(39),b=n(38),h=n(25),x=n(27),O=n(14),p=n.n(O),f=n(23),m=n(6),v=Object(c.createContext)(),g=function(e){var t=e.children,n=Object(c.useState)(!0),a=Object(m.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)([]),j=Object(m.a)(s,2),l=j[0],u=j[1],o=Object(c.useState)({item:{},edit:!1}),b=Object(m.a)(o,2),O=b[0],g=b[1];Object(c.useEffect)((function(){k()}),[]);var k=function(){var e=Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/feedback?_sort=id&_order=desc");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,u(n),i(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you wish to delete?")){e.next=4;break}return e.next=3,fetch("/feedback/".concat(t),{method:"DELETE"});case 3:u(l.filter((function(e){return e.id!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,u((function(e){return[c].concat(Object(x.a)(e))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/feedback/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return c=e.sent,e.next=5,c.json();case 5:a=e.sent,u(l.map((function(e){return e.id===t?Object(h.a)(Object(h.a)({},e),a):e})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(d.jsx)(v.Provider,{value:{feedback:l,feedbackEdit:O,isLoading:r,deleteFeedback:y,addFeedback:C,editFeedback:function(e){g({item:e,edit:!0})},updateFeedback:F},children:t})},k=v,y=n(22);function C(e){var t=e.children,n=e.reverse;return Object(d.jsx)("div",{className:"card ".concat(n&&"reverse"),children:t})}C.defaultProps={reverse:!1};var F=C;var w=function(e){var t=e.id,n=e.rating,a=e.text,r=Object(c.useContext)(k),i=r.deleteFeedback,s=r.editFeedback;return Object(d.jsxs)(F,{children:[Object(d.jsx)("div",{className:"num-display",children:n}),Object(d.jsx)("button",{onClick:function(){return i(t)},className:"close",children:Object(d.jsx)(y.c,{color:"purple"})}),Object(d.jsx)("button",{onClick:function(){return s({id:t,rating:n,text:a})},className:"edit",children:Object(d.jsx)(y.a,{color:"purple"})}),Object(d.jsx)("div",{className:"text-display",children:a})]})},N=n.p+"static/media/spinner.a1a99674.gif";var S=function(){return Object(d.jsx)("img",{src:N,alt:"Loading Spinner",style:{width:"100px",margin:"auto",display:"block"}})};var E=function(){var e=Object(c.useContext)(k),t=e.feedback,n=e.isLoading;return!n&&!t||0===t.length?Object(d.jsx)("p",{children:"No Feedback Yet!"}):n?Object(d.jsx)(S,{}):Object(d.jsx)("div",{className:"feedback-list",children:Object(d.jsx)(o.a,{children:t.map((function(e){return Object(d.jsx)(b.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:Object(d.jsx)(w,{id:e.id,rating:e.rating,text:e.text},e.id)},e.id)}))})})};var T=function(){var e=Object(c.useContext)(k).feedback,t=e.reduce((function(e,t){return e+t.rating}),0)/e.length;return t=t.toFixed(1).replace(/[.,]0$/,""),Object(d.jsxs)("div",{className:"feedback-stats",children:[Object(d.jsxs)("h4",{children:[e.length," Reviews"]}),Object(d.jsxs)("h4",{children:["Average Rating: ",e.length>0?t:0]})]})};function P(e){var t=e.children,n=e.version,c=e.type,a=e.isDisabled,r=e.onClick;return Object(d.jsx)("button",{onClick:r,type:c,disabled:a,className:"btn btn-".concat(n),children:t})}P.defaultProps={version:"primary",type:"button",isDisabled:!1};var D=P;var R=function(e){var t=e.changeRating,n=Object(c.useState)(10),a=Object(m.a)(n,2),r=a[0],i=a[1],s=Object(c.useContext)(k).feedbackEdit;Object(c.useEffect)((function(){s.edit&&i(s.item.rating)}),[s]);var j=function(e){i(+e.target.value),t(+e.target.value)};return Object(d.jsxs)("ul",{className:"rating",children:[Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",id:"num1",name:"rating",value:"1",onChange:j,checked:1===r}),Object(d.jsx)("label",{htmlFor:"num1",children:"1"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",id:"num2",name:"rating",value:"2",onChange:j,checked:2===r}),Object(d.jsx)("label",{htmlFor:"num2",children:"2"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",id:"num3",name:"rating",value:"3",onChange:j,checked:3===r}),Object(d.jsx)("label",{htmlFor:"num3",children:"3"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",id:"num4",name:"rating",value:"4",onChange:j,checked:4===r}),Object(d.jsx)("label",{htmlFor:"num4",children:"4"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",id:"num5",name:"rating",value:"5",onChange:j,checked:5===r}),Object(d.jsx)("label",{htmlFor:"num5",children:"5"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",id:"num6",name:"rating",value:"6",onChange:j,checked:6===r}),Object(d.jsx)("label",{htmlFor:"num6",children:"6"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",id:"num7",name:"rating",value:"7",onChange:j,checked:7===r}),Object(d.jsx)("label",{htmlFor:"num7",children:"7"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",id:"num8",name:"rating",value:"8",onChange:j,checked:8===r}),Object(d.jsx)("label",{htmlFor:"num8",children:"8"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",id:"num9",name:"rating",value:"9",onChange:j,checked:9===r}),Object(d.jsx)("label",{htmlFor:"num9",children:"9"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",id:"num10",name:"rating",value:"10",onChange:j,checked:10===r}),Object(d.jsx)("label",{htmlFor:"num10",children:"10"})]})]})};var J=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),i=Object(m.a)(r,2),s=i[0],j=i[1],l=Object(c.useState)(""),u=Object(m.a)(l,2),o=u[0],b=u[1],h=Object(c.useState)(10),x=Object(m.a)(h,2),O=x[0],p=x[1],f=Object(c.useContext)(k),v=f.addFeedback,g=f.feedbackEdit,y=f.updateFeedback;return Object(c.useEffect)((function(){g.edit&&(a(g.item.text),p(g.item.rating),j(!1))}),[g]),Object(d.jsx)(F,{children:Object(d.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n.trim().length>10){var t={text:n,rating:O};g.edit?(y(g.item.id,t),g.edit=!1):v(t),a("")}},children:[Object(d.jsx)("h2",{children:"How would you rate your service with us?"}),Object(d.jsx)(R,{changeRating:function(e){p(e)}}),Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("input",{onChange:function(e){""===n?(j(!0),b(null)):""!==n&&n.trim().length<=10?(j(!0),b("Text must be at least 10 characters")):(j(!1),b(null)),a(e.target.value)},type:"text",placeholder:"Write a review",value:n}),Object(d.jsx)(D,{type:"submit",isDisabled:s,children:"Send"})]}),o&&Object(d.jsx)("div",{className:"message",children:o})]})})};var L=function(){return Object(d.jsx)("div",{className:"about-link",children:Object(d.jsx)(s.b,{to:"/about",children:Object(d.jsx)(y.b,{size:30})})})};var A=function(){return Object(d.jsx)(F,{children:Object(d.jsxs)("div",{className:"about",children:[Object(d.jsx)("h1",{children:"About This Project"}),Object(d.jsx)("p",{children:"This is a React app to leabe feedback for a product or service"}),Object(d.jsx)("p",{children:"Version: 1.0.0"}),Object(d.jsx)("p",{children:Object(d.jsx)(s.b,{to:"/",children:"Back To Home"})})]})})};var B=function(){return Object(d.jsx)(g,{children:Object(d.jsxs)(s.a,{children:[Object(d.jsx)(u,{}),Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{exact:!0,path:"/",element:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(J,{}),Object(d.jsx)(T,{}),Object(d.jsx)(E,{}),Object(d.jsx)(L,{})]})}),Object(d.jsx)(j.a,{path:"/about",element:Object(d.jsx)(A,{})})]})})]})})};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(B,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.c8429864.chunk.js.map